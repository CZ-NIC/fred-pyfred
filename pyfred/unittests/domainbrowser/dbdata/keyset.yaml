0dad6432fb8bcfa4359e5029fc440dd3:
  query: |-
    SELECT
                    object_registry.id
                FROM object_registry
                WHERE
                    type = %(type_id)d
                    AND object_registry.name = %(handle)s
                    AND object_registry.erdate IS NULL
  values:
    9e52b6f6490a6fac7a9712ebe3981908:
      data: {handle: 'KEYSID:FOO', type_id: 4}
      response:
      - []
57545a629ba91b98f1cb1abab23b3eee:
  query: |-
    SELECT
                    oreg.id AS id,
                    oreg.name AS handle,
                    oreg.roid AS roid,

                    oreg.crdate AS create_date,
                    obj.trdate AS transfer_date,
                    obj.update AS update_date,

                    obj.authinfopw AS auth_info,
                    get_state_descriptions(oreg.id, %(lang)s) AS states,

                    updator.id AS update_registrar_id,
                    updator.handle AS update_registrar_handle,
                    updator.name AS update_registrar_name,

                    creator.id AS create_registrar_id,
                    creator.handle AS create_registrar_handle,
                    creator.name AS create_registrar_name,

                    current.id AS registrar_id,
                    current.handle AS registrar_handle,
                    current.name AS registrar_name

                FROM object_registry oreg
                    JOIN object obj ON obj.id = oreg.id

                    JOIN registrar creator ON creator.id = oreg.crid
                    JOIN registrar current ON current.id = obj.clid
                    LEFT JOIN registrar updator ON updator.id = obj.upid

                WHERE oreg.id = %(object_id)d
                    AND oreg.name = %(handle)s
                    AND oreg.type = %(type_id)d
                    AND oreg.erdate IS NULL
  values:
    9b4fdc12f524cbfa043d17e96d3cdee2:
      data: {handle: KEYID01, id: &id001 !!python/long '18', lang: EN, name: '', object_id: *id001,
        type_id: 4}
      response:
      - - [18, KEYID01, K0000000018-CZ, '2013-06-14 13:31:54.616493', null, null,
          oDmfgnip, t#20#linked#Has relation to other records in the registry, null,
          null, null, 1, REG-FRED_A, Company A l.t.d, 1, REG-FRED_A, Company A l.t.d]
ac758d55f144d383a8e02377ed0a5bd9:
  query: |-
    SELECT
                        keytag, alg, digesttype, digest, maxsiglife
                    FROM dsrecord
                    WHERE keysetid = %(keyset_id)d
  values:
    3fb976066b9d00c3cfb1013f8063f6f9:
      data: {keyset_id: 18}
      response:
      - []
ebb94d622533b12f593667bd14497bf8:
  query: |-
    SELECT
                        flags, protocol, alg, key
                    FROM dnskey
                    WHERE keysetid = %(keyset_id)d
  values:
    3fb976066b9d00c3cfb1013f8063f6f9:
      data: {keyset_id: 18}
      response:
      - - [257, 3, 5, AwEAAddt2AkLfYGKgiEZB5SmIF8EvrjxNMH6HtxWEA4RJ9Ao6LCWheg8]
f0ba681213e8106d5c888473922a46c2:
  query: |-
    SELECT
                    object_registry.id,
                    object_registry.name,
                    CASE WHEN contact.organization IS NOT NULL AND LENGTH(contact.organization) > 0 THEN
                        contact.organization ELSE contact.name
                    END
                FROM keyset_contact_map
                JOIN object_registry ON object_registry.id = keyset_contact_map.contactid
                JOIN contact ON contact.id = keyset_contact_map.contactid
                WHERE keysetid = %(obj_id)d
                ORDER BY object_registry.name
  values:
    07d7b42b2e7478d75f1c1f44c6271709:
      data: {obj_id: 18}
      response:
      - - [4, ANNA, !!python/str "Anna Proch\xE1zkov\xE1"]
        - [6, TESTER, !!python/str "Tom\xE1\u0161 Tester"]
f0e311cbd7a0564f1d6e7c8f55da2eb5:
  query: |-
    SELECT oreg.id
                FROM object_registry oreg
                WHERE oreg.id = %(object_id)d
                      AND oreg.name = %(handle)s
                      AND type = %(type_id)d
                      AND oreg.erdate IS NULL
  values:
    2a4810e7e41d8ff5c97f1c3ca4927322:
      data: {handle: TESTER, id: &id002 !!python/long '6', name: '', object_id: *id002,
        type_id: 1}
      response:
      - - [6]
