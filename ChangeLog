2007-09-10 Jan Kryl (version 1.7.0)

	* Mailer is capable of checking for undelivered email messages.
	It does so by downloading emails over POP3 protocol from mailbox,
	where are accumulated responses for sent emails. If there is a
	response for sent email, the email is marked in database as
	undelivered. The responses are archived as well.

	* Genzone was greatly simplified. It isn't responsible for making
	decision whether domain should be placed in zone or not, based on
	various criteria. Now it simply checks for status 'outzone', which
	is set by another process. As consequence of this the configuration
	directives expiration_hour and safeperiod were cancelled.

	* New configuration directive "rndc" for genzone_client was added.
	It sets path to rndc binary and can be used in case when rndc is not
	in $PATH.

	* New technical test, which tests requirement for GLUE, was added.
	This test is special, because it is realized directly in techcheck and
	not by external script, and because it influences inputs of all other
	technical tests.

	* When doing technical test, the nameserver's fqdn is not resolved,
	if GLUE is present and should be used. All tests were corrected
	in respect to this.

	* Changes in techcheck associated with new system for poll messages
	archival.

2007-06-14 Jan Kryl (version 1.6.2)

	* Bug in zone generator was fixed. GLUE records were generated
	if the nameserver came from the same zone instead of domain. This
	is wrong behaviour.

	* The order of build targets in setup.py was fixed.

2007-06-13 Jan Kryl (version 1.6.1)

	* When pyfred_server terminates, references registered by corba
	nameservice when pyfred_server was started are deleted.

	* Bug in test for python version in setup.py was fixed.

	* Better handling of unexpected exceptions in pyfred_server (they
	are logged and printed to stderr).

	* The behaviour of genzone client was modified. If there are no
	zones specified on cmd line, the new 'zones' directive from 'general'
	section from config file is taken into account.

	* Critical error in genzone was fixed. The GLUE records were not
	properly generated.

2007-06-11 Jan Kryl (version 1.6.0)

	* Genzone client uses safe method for creating temporary files.

	* It is possible to have individual configuration for each generated
	zone by genzone client.

	* You can specify header and footer files to genzone client. Those
	files will be prepended and appended to zone file, which is convenient
	for comment insertion.

	* pyfred_server creates pid file when it is started. The pidfile is
	named "pyfred.pid" and the directory, where it is created is
	configurable by "piddir" configuration directive.

	* pyfredctl is again functional a can be used for controlling
	pyfred_server. However the pid file must be in default path
	/var/run/pyfred.pid in order to work well.

2007-06-01 Jan Kryl (version 1.5.2)

	* genzone client has new configuration file /etc/fred/genzone.conf.

2007-05-25 Jan Kryl (version 1.5.1)

	* Two bugs in techcheck which disabled generation of poll message
	were fixed (mapping of corba boolean to python's boolean and
	accepting negative check levels as if they would mean default level).

2007-05-20 Jan Kryl (version 1.5.0)

	* New mailer idl function resend was implemented. This function
	triggers sending of an email from email archive.

	* The bug with empty 'To' header was fixed. If 'To' header is empty
	new exception 'InvalidHeader' is thrown.

	* Pyfred server starts now fully daemonized (if run without -d option).
	Daemonization doesn't play very nice with omniorb. In some cases when
	pyfred calls exit, the threads get deadlocked and eat 100% CPU.

	* The pyfred is now installed via setup.py (as it is ussuall in python
	world). This change trigered another one - the reorganization of files
	in repository. The layout of project has completely changed.

	* Whois module is no longer alive, it was removed because it wasn't
	needed in production and there was no time to maintain it.

	* The documentation was rewriten almost from scratch.

2007-04-24 Jan Kryl (version 1.4.3)

	* Critical Bug in pyfred's job scheduler was fixed. The bug
	practically inhibited regularly scheduled jobs.

	* Logic of sending an email in Mailer module was splitted
	in two parts. One part accepts requests and does the templating
	and the other part which is run regularly from pyfred's internal
	job scheduler completes emails and sends them.

	* Manual confirmation of email submission is now available in
	mailer. This may be used for debugging in production.

	* Mailer now tries repeatedly to send email if sendmail fails.
	Maximal number of attempts is configurable by maxattempts
	directive.

2007-04-05 Jan Kryl (version 1.4.2)

	* Postfix adds extra newline after headers when lines terminations
	are mixed together (lf vs. crlf). All lines must have common
	terminator in order for signature to be valid. This was fixed.

2007-04-04 Jan Kryl (version 1.4.1)

	* Signing of emails is done by openssl binary instead of M2Crypto
	library which is not needed anymore. This is a worse solution of
	the signing problem but theres no other way, since outlook doesn't
	like emails signed with M2Crypto.

	* VCard attachment is added to each email. This is kind of a hack to
	overcome bug in outlook, which cannot open multipart email composed
	from just one part.

2007-02-13 Jan Kryl (version 1.4.0)

	* TechCheck module is now able to do regular technical checks of
	all registered nssets.

	* TechCheck has administration interface which is used for searching
	in archive of executed checks.

	* Numerous improvements in check scripts used by techcheck module.

	* Email templates now share the same footer. The footer is not
	duplicated in all templates as it was.

	* pyfred server has its own start/stop/status script called pyfredctl.

	* New attribute 'type' of file is kept about files managed by
	filemanager. Not confuse this new attr 'type' with MIME type,
	which is another attribute of file.

	* Mailer signs all sent emails. Signing is accomplished
	by M2Crypto python library, which is wrapper around openssl library.
	Both theese libraries must be installed when running mailer module.

	* FileManager was modified to transfer files chunk by chunk in
	sequence. The size of chunk is selectable by client. In princip
	for upload or download of a file is created independent CORBA
	object, which handles transfer of data.

	* Documentation is more complete.

2006-11-24 Jan Kryl (version 1.3.0)

	* Over-branding of pyccReg to new name pyfred was done successfully.
	Old name still remains at some places, but those places cannot be
	changed without affecting other parts of registry software.

	* The configuration file is no more shared with central register
	written in C++. Pyfred has now its own configuration file name
	pyfred.conf containing sections for individual modules.

	* Database connection management is done now by pyfred core and
	not by modules, as it was till now.

	* Modules are now able to register jobs (functions) which should
	be run in regular periods. Pyfred core now supports this neat
	feature.

	* New module filemanager was created. Filemanager is capable of
	storing files and loading files. As storage backend is used
	filesystem, some meta information about files is kept in database.

	* New module mailer, used for sending email notifications, was
	created. It depends on clearsilver templating library.

	* Rewrite of genzone module (inspired by new mailer module).
	For each zone transfer is created separate corba object now.

	* The concept of safe-interval was implemented in genzone.
	Additionaly all domains, which should not be generated in zonefile
	first time on that day, are excluded after concrete hour, common
	for all domains.

	* History of inclusion or exclusion of domain in zone is now kept
	in database together with reason of not being included. The status
	is generated by set of complicated SQL statements (credits Jara).

	* Serious bug was fixed in genzone client. For ipv6 addresses
	was not generated record AAAA but same record as for ipv4 addresses.

	* Coding of CORBA strings was explicitly set to UTF-8 in server and
	all clients. Different encodings of two ORB endpoints resulted in
	missinterpretation of national characteres.

	* Configuration file pyfred_modules.conf was removed, since there
	is no reason for it to exist, when we don't share configuration file
	with C++ central register. Modules which should be loaded are now
	specified in pyfred.conf.

	* New modul techcheck for execution of technical checks on nssets
	was created. Scripts realizing individual tests are in subdirectory
	techchecks. In order to be able to run the test scripts, DNS python
	library, fpdns perl script and whois client must be installed
	in the system.

2006-10-20 Jan Kryl (version 1.2.1)

	* The output of genzone client, when running in test mode, was
	modified in order be fulfill expectations of Nagios monitoring tool.

	* pyccReg listens on static port since now, because of better
	ability to do firewalling.

2006-09-27 Jan Kryl (version 1.2.0)

	* This ChangeLog was started in order to keep better overview
	of changes. The ChangeLog serves for whole pyccReg project (server
	and clients, etc.).

	* All files and directories in repository where reorganized in
	better hierarchy. Makefile was completely rewritten.

	* README files where added at places where they were most needed.

	* Database change - the column for ip address of primary nameserver
	in table zone_soa was removed. Primary nameserver data are now
	maintained together with other nameservers in table zone_ns.

